usethis::use_mit_license()
usethis::use_data()
usethis::use_data_raw()
usethis::use_data()
library(theguardian)
lsf.str("package:theguardian")
auth_me()
show_my_key()
guardian_call()
library(theguardian)
lsf.str("package:theguardian")
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
show_my_key()
guardian_call()
?theguardian
??theguardian
devtools::install_github("Yassinabdelhadyy/theguardian")
devtools::install_github("Yassinabdelhadyy/theguardian")
show_my_key()
auth_me()
library(theguardian)
show_my_key()
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
lsf.str("package:theguardian")
query <- paste0("q='",to_date,"'&")
query <- paste0("q='",NULL,"'&")
query
q=NULL
query <- paste0("q='",q,"'&")
query
ifelse(!is.na(q),query,q)
ifelse(q==NULL,query,q)
ifelse(q=NULL,query,q)
COALESCE(q,query)
coalesce(q,query)
??coalesce
ifelse(q!=NULL,query,q)
ifelse(is.na(q)==FALSE,query,q)
q
ifelse(is.na(q),query,q)
ifelse(!is.na(q),query,q)
test <- ifelse(!is.na(q),query,q)
test
!is.na(q)
test <- ifelse(!is.null(q),query,q)
test <- ifelse(is.null(q),query,q)
test
test <- ifelse(is.null(q),q,query)
test <- ifelse(is.null(q),'',query)
test
test <-
ifelse(!is.null(q),query,"")
ifelse(!is.null(q),query,"")
??left_join
??mutate
??str_replace_all
key = NULL
assertthat::assert_that(!missing(key), msg = "Sign Up for an API key here https://open-platform.theguardian.com/access then use the function guardian_key('') to set your API Key ")
devtools::use_package()
library(theguardian)
guardian_call()
# lsf.str("package:theguardian")
auth_me()
show_my_key()
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
show_my_key()
guardian_call()
library(theguardian)
# lsf.str("package:theguardian")
auth_me()
show_my_key()
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
?mutate
library(tidyverse)
?mutate
?separate
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
full_guardian_call()
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
full_guardian_call()
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call()
guardian_call()%>%view()
full_guardian_call()%>%view()
key <- Sys.getenv("GUARDIAN_API_KEY")
guardian_call(q= "football")%>%view()
?assert_that
library(theguardian)
# lsf.str("package:theguardian")
auth_me()
show_my_key()
library(theguardian)
# lsf.str("package:theguardian")
auth_me()
show_my_key()
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
# lsf.str("package:theguardian")
auth_me()
show_my_key()
guardian_call_by_date()
guardian_call_by_date()
guardian_call_by_date()
guardian_call()
library(theguardian)
guardian_call_by_date()
api_key<-Sys.getenv("GUARDIAN_API_KEY")
# page_size <- paste0("page-size=",page_size,"&")
from_date <- paste0("from-date=",date,"&")
# page_size <- paste0("page-size=",page_size,"&")
from_date <- paste0("from-date=",Sys.Date(),"&")
to_date <- paste0("to-date=",Sys.Date(),"&")
# query <- ifelse(!is.null(search_term),paste0("q='",search_term,"'&"),"")
theguardian <- paste0(base_link,to_date,from_date,api_key)
base_link<-"https://content.guardianapis.com/search?"
# query <- ifelse(!is.null(search_term),paste0("q='",search_term,"'&"),"")
theguardian <- paste0(base_link,to_date,from_date,api_key)
return(theguardian)
theguardian
library(theguardian)
guardian_call_by_date()
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call_by_date()
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
guardian_call_by_date()
guardian_call_by_date(date = "2023-3-14")
text <- rvest::read_html(theguardian)|>
rvest::html_element("body")|>
rvest::html_element("p")|>
rvest::html_text2()
library(rvest)
text <- rvest::read_html(theguardian)|>
rvest::html_element("body")|>
rvest::html_element("p")|>
rvest::html_text2()
theguardian <- guardian_call_by_date(date = "2023-3-14")
text <- rvest::read_html(theguardian)|>
rvest::html_element("body")|>
rvest::html_element("p")|>
rvest::html_text2()
#transforming the page from text to json format
js <- jsonlite::fromJSON(text, simplifyDataFrame = TRUE)
js
data.frame(js$total)
js$total
data.frame(js$response$total)
js$response$total
results <- js$response$total
results <- js$response$total
text <- rvest::read_html(theguardian)|>
rvest::html_element("body")|>
rvest::html_element("p")|>
rvest::html_text2()
#transforming the page from text to json format
js <- jsonlite::fromJSON(text, simplifyDataFrame = TRUE)
results <- js$response$total
print(results)
while (results>0)
while (results>0){
print(results)
results<-results-200
}
print(results)
while (results>0){
print(results)
results<-results-200
}
while (results>0){
print(results)
results<-results-200
}
results <- js$response$total
# results <- js$response$total
results<- 208
while (results>0){
print(results)
results<-results-200
}
# results <- js$response$total
results<- 208
results/200
floor(results/200)
floor(results/200)*200
floor(results/200)
# results <- js$response$total
results<- 308
floor(results/200)
# results <- js$response$total
results<- 408
floor(results/200)
?rep
rep(200,floor(results/200))
c(rep(200,floor(results/200)),results-((floor(results/200))*200))
test <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
test[1]
test[2]
test[3]
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
pages
results <- js$response$total
results
if (results>200){
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
}
else if(results<200){
if (results>200){
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
}else if(results<200){
page_size <-c(results)
pages <- length(page_size)
}
print(page_size)
print(page)
if (results>200){
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
}else if(results<200){
page_size <-c(results)
pages <- length(page_size)
}
print(page_size)
print(pages)
for (page in pages){
print(page)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
print(page)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
print(page_size[page])
print(page)
}
results<-100
if (results>200){
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
}else if(results<200){
page_size <-c(results)
pages <- length(page_size)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
print(page_size[page])
print(page)
}
results <- js$response$total
if (results>200){
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
}else if(results<200){
page_size <-c(results)
pages <- length(page_size)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
print(page_size[page])
print(page)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
page_size <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_size,page_nm,api_key)
print(theguardian)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
page_size <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_size,page_nm,api_key)
print(page_size[page])
print(page)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
page_size <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_size,page_nm,api_key)
print(page_size[page])
print(page)
}
page_size
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
page_sz <- paste0("page-size=",page_size[page],"&")
print(page_sz[page])
# print(page_size)
# print(pages)
for (page in 1:pages){
page_sz <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_size,page_nm,api_key)
print(page_sz[page])
print(page)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
page_sz <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_size,page_nm,api_key)
print(page_size[page])
print(page)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
page_sz <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_sz,page_nm,api_key)
print(theguardian)
}
results<-100
if (results>200){
page_size <- c(rep(200,floor(results/200)),results-((floor(results/200))*200))
pages <- length(page_size)
}else if(results<200){
page_size <-c(results)
pages <- length(page_size)
}
# print(page_size)
# print(pages)
for (page in 1:pages){
page_sz <- paste0("page-size=",page_size[page],"&")
page_nm <- paste0("page=",page,"&")
theguardian <- paste0(base_link,to_date,from_date,page_sz,page_nm,api_key)
print(theguardian)
}
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
theguardian <- guardian_call_by_date(date = "2023-3-14")
theguardian
View(theguardian)
test <- c("2023-3-14","2023-3-15")
test
length(test)
test[1]
theguardian <- guardian_call_by_date(date = "2023-3-15")
theguardian
View(theguardian)
theguardian <- guardian_call_by_date(date = "2023-3-7")
theguardian
View(theguardian)
theguardian <- guardian_call_by_date(date = "2023-3-11")
View(theguardian)
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
theguardian <- full_guardian_call_by_date()
theguardian <- guardian_call_by_date(date = "2023-3-11")
View(theguardian)
library(theguardian)
guardian_key("33c8e9d3-4761-4627-ba11-267da6e1f4e1")
theguardian <- full_guardian_call_by_date()
View(theguardian)
